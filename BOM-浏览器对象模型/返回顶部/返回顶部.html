<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>返回顶部</title>
	<style>
		.box{
			width: 200px;
			height: 1200px;
			background: blue;
		}
		#btn1 {
			position: fixed;
			bottom: 10px;
			right: 10px;
			cursor: pointer;
		}
	</style>
</head>

<body>
	<div class="box"></div>
	<img id="btn1" src="top.png" />
</body>
<script>
	window.onload = function () {
		var oBtn = document.getElementById('btn1');
		var bSys = true;
		var timer = null;
		//如何检测用户拖动了滚动条
		window.onscroll = function () {
			if (!bSys) {
				clearInterval(timer);
			}
			bSys = false;
		};
		oBtn.onclick = function () {
			timer = setInterval(function () {
				var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
				var iSpeed = Math.floor(-scrollTop / 8);

				if (scrollTop == 0) {
					clearInterval(timer);
				}
				bSys = true;
				document.documentElement.scrollTop = document.body.scrollTop = scrollTop + iSpeed;
			}, 30);
		};
	};
</script>

</html>