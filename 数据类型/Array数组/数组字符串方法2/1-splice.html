<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JS 数组方法 splice()</title>
    <style>
        h1 {
            text-align: center;
        }

        pre {
            font-size: 18px;
        }
    </style>
</head>

<body>
    <h1>JS 数组方法 splice()</h1>
    <hr />
    <h3>注： splice()方法，在执行后，原来的数组值也会被受影响！</h3>
    <pre>
        <b>Array.from(arrayLike[, mapFn[, thisArg]])</b>
        参数：
            arrayLike
                想要转换成数组的伪数组对象或可迭代对象。
            mapFn (可选参数)
                如果指定了该参数，新数组中的每个元素会执行该回调函数。
            thisArg (可选参数)
                可选参数，执行回调函数 mapFn 时 this 对象。
        返回值:
            一个新的数组实例
        

            
        <b>Array.splice(start[, deleteCount[, item1[, item2[, ...]]]])</b> 该方法可实现对数组中的元素进行 删除、替换、添加 操作！
        参数：
            start​
                指定修改的开始位置（从0计数）。如果超出了数组的长度，则从数组末尾开始添加内容；
                如果是负值，则表示从数组末位开始的第几位（从-1计数，这意味着-n是倒数第n个元素并且等价于array.length-n）；
                如果负数的绝对值大于数组的长度，则表示开始位置为第0位。
                
            deleteCount 可选
                整数，表示要移除的数组元素的个数。
                如果 deleteCount 大于 start 之后的元素的总数，则从 start 后面的元素都将被删除（含第 start 位）。
                如果 deleteCount 被省略了，或者它的值大于等于array.length - start(也就是说，如果它大于或者等于start之后的所有元素的数量)，那么start之后数组的所有元素都会被删除。
                如果 deleteCount 是 0 或者负数，则不移除元素。这种情况下，至少应添加一个新元素。
            item1, item2, ... 可选
                要添加进数组的元素,从start 位置开始。如果不指定，则 splice() 将只删除数组元素。

        返回值：
            由被删除的元素组成的一个数组。如果只删除了一个元素，则返回只包含一个元素的数组。如果没有删除元素，则返回空数组。
        
    </pre>
    <script>

        // 注：数据的索引下标从0开始的！

        {
            let arr = ["A", "B", "C", "D", "E", "F", "G", "H"];

            // 删除
            arr.splice(1, 2); // 从索引1的位置，向后删除2个元素   
            console.log(arr); // ['A', 'D', 'E', 'F', 'G', 'H']
        };


        {
            let arr = ["A", "B", "C", "D", "E", "F", "G", "H"];

            // 替换（先删除，再添加）
            arr.splice(2, 2, "你好呀", "我很好"); // 替换索引2位置后面的的2个元素   
            console.log(arr); // ['A', 'B', '你好呀', '我很好', 'E', 'F', 'G', 'H']
        };


        {
            let arr = ["A", "B", "C", "D", "E", "F", "G", "H"];

            // 添加
            arr.splice(2, 0, "H5", "CSS3", "ES6"); // 在索引2位置的后面添加3个元素   
            console.log(arr); //  ['A', 'B', 'H5', 'CSS3', 'ES6', 'C', 'D', 'E', 'F', 'G', 'H']
        }



        // 数据对象
        {
            let arr = [{ name: '沐枫' }, { age: 18 }, { sex: '男' }, { job: 'Web前端' }];

            // 删除
            arr.splice(1, 2); // 从索引1的位置，向后删除2个元素   
            console.log(arr); //  [{…}, {…}]
        };


        {
            let arr = [{ name: '沐枫' }, { age: 18 }, { sex: '男' }, { job: 'Web前端' }];
            // 替换（先删除，再添加）
            arr.splice(2, 2, { hello: "你好呀" }, "我很好"); // 替换索引2位置后面的的2个元素   
            console.log(arr); // [{…}, {…}, {…}, '我很好']
        };


        {
            let arr = [{ name: '沐枫' }, { age: 18 }, { sex: '男' }, { job: 'Web前端' }];

            // 添加 (关键在第2个参数是0，0就表示删除0个，然后添加3个)
            arr.splice(2, 0, "H5", { css: "CSS3" }, "ES6"); // 在索引2位置的后面添加3个元素   
            console.log(arr); // [{…}, {…}, 'H5', {…}, 'ES6', {…}, {…}]
        }
    </script>
</body>

</html>